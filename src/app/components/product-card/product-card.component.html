<div class="card h-100 shadow-sm">
  <img class="card-img-top" [src]="currentImage" [alt]="product.name" [routerLink]="['/products', product.id]" style="cursor: pointer" />
  <div class="card-body d-flex flex-column">
    <h5 class="card-title" [routerLink]="['/products', product.id]" style="cursor: pointer">{{ product.name }}</h5>
    <div class="price">{{ formatBRL(product.price) }}</div>
    <p class="card-text text-muted">{{ product.description }}</p>
    <div class="thumbs" *ngIf="product.photos?.length">
      <img
        *ngFor="let ph of product.photos; index as i"
        [src]="resolveImage(ph)"
        [alt]="product.name + ' foto ' + (i + 1)"
        [class.active]="i === selectedIndex"
        (click)="selectPhoto(i)"
      />
    </div>
    <div class="mt-auto d-flex gap-2">
      <button class="btn btn-primary" (click)="interest.emit(product)">Tenho interesse</button>
      <span class="badge bg-secondary align-self-center">{{ product.category }}</span>
    </div>
  </div>
</div>
